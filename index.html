<div id="webkulMap" style="height: 280px;"></div>
<input type="text" name="latitude" value="" placeholder="latitude" id="latitude"/>
<input type="text" name="longitude" value="" placeholder="longitude" id="longitude"/>
<input type="text" name="city" value="" placeholder="City" id="input-city"/>
<input type="text" name="postcode" value="" placeholder="Post Code" id="input-postcode"/>
<input type="text" name="country_id" value="" placeholder="country" id="input-country"/>
<input type="text" name="zone_id" value="" placeholder="zone" id="input-zone"/>

<script defer
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDzNno8v3v3mtxUuyOUz9RH97XyB6VfmYw&callback=initMap">
</script>
      

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js">
</script>

<script type="text/javascript">
    <em>var</em> map;
    <em>var</em> marker;
    <em>var</em> myLatlng = new google.maps.LatLng(your_address_latitude, your_address_longitude);
    <em>var</em> geocoder = new google.maps.Geocoder();
    <em>var</em> infowindow = new google.maps.InfoWindow();
    <em>function</em> initialize() {
        <em>var</em> mapOptions = {
        zoom: 3,
        center: myLatlng,
        mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        
        map = new google.maps.Map(document.getElementById("webkulMap"), mapOptions);
        marker = new google.maps.Marker({
            map: map,
            position: myLatlng,
            draggable: true
        });

        google.maps.event.addListener(marker, 'dragend', <em>function</em>() {
            geocoder.geocode({'latLng': marker.getPosition()}, <em>function</em>(<em>results</em>, <em>status</em>) {
                if (status == google.maps.GeocoderStatus.OK) {
                    if (results[0]) {
                        <em>var</em> address_components = results[0].address_components;
                        <em>var</em> components={};
                        jQuery.each(address_components, <em>function</em>(<em>k</em>,<em>v1</em>) {jQuery.each(v1.types, <em>function</em>(<em>k2</em>, <em>v2</em>){components[v2]=v1.long_name});});
                        <em>var</em> city;
                        <em>var</em> postal_code;
                        <em>var</em> state;
                        <em>var</em> country;

                        if(components.locality) {
                            city = components.locality;
                        }

                        if(!city) {
                            city = components.administrative_area_level_1;
                        }

                        if(components.postal_code) {
                            postal_code = components.postal_code;
                        }

                        if(components.administrative_area_level_1) {
                            state = components.administrative_area_level_1;
                        }

                        if(components.country) {
                            country = components.country;
                        }
                        
                        $.ajax({
                            url : 'url',
                            data: {state : state, country : country},
                            type: 'POST',
                            success: <em>function</em>(<em>data</em>) {
                                $('#input-country').val(data['country']);
                                $('#input-zone').val(data['zone']);
                            }
                        });

                        $('#input-city').val(city);
                        $('#input-postcode').val(postal_code);
                        $('#latitude').val(marker.getPosition().lat());
                        $('#longitude').val(marker.getPosition().lng());
                        infowindow.setContent(results[0].formatted_address);
                        infowindow.open(map, marker);
                    }
                }
            });
        });
    }
    google.maps.event.addDomListener(window, 'load', initialize);
</script>
